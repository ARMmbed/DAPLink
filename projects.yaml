settings:
    export_dir:
        - projectfiles/{tool}/{project_name}
    tools:
        uvision:
            template:
                - records/tools/uvision.uvproj.tmpl

module:
    tools: &module_tools
        - records/tools/gcc_arm.yaml
        - records/tools/armcc.yaml
        - records/tools/armclang.yaml
        - records/tools/version.yaml
    bl: &module_bl
        - *module_tools
        - records/usb/usb-core.yaml
        - records/usb/usb-msc.yaml
        - records/daplink/bootloader.yaml
        - records/daplink/drag-n-drop.yaml
        - records/daplink/settings.yaml
        - records/daplink/settings_rom_stub.yaml
        - records/daplink/target_board.yaml
        - records/rtos/rtos-none.yaml
    if: &module_if
        - *module_tools
        - records/usb/usb-core.yaml
        - records/usb/usb-msc.yaml
        - records/usb/usb-cdc.yaml
        - records/usb/usb-webusb.yaml
        - records/usb/usb-winusb.yaml
        - records/daplink/cmsis-dap.yaml
        - records/daplink/drag-n-drop.yaml
        - records/daplink/usb2uart.yaml
        - records/daplink/settings.yaml
        - records/daplink/settings_rom.yaml
        - records/daplink/interface.yaml
        - records/daplink/target_family.yaml
        - records/daplink/target_board.yaml
    # HICs
    hic_stm32f103xb: &module_hic_stm32f103xb
        - records/rtos/rtos-cm3.yaml
        - records/hic_hal/stm32f103xb.yaml
        - records/usb/usb-hid.yaml
    hic_mm32f3270: &module_hic_mm32f3270
        - records/rtos/rtos-cm3.yaml
        - records/hic_hal/mm32f3270.yaml
        - records/usb/usb-hid.yaml

projects:
    # HIC bootloaders and all target interfaces
    mm32f3270_bl:
        - *module_bl
        - records/hic_hal/mm32f3270.yaml
        - records/board/mm32f3270_bl.yaml
    mm32f3270_if:
        - *module_if
        - *module_hic_mm32f3270
        - records/family/all_family.yaml
        - records/usb/usb-bulk.yaml
